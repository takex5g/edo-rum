# 江戸走り検出のしくみ（かんたん解説）

## 江戸走りってなに？

江戸走りは、江戸時代の飛脚などが使っていたとされる日本古来の走り方です。

現代の走り方とは大きく異なり、**体をねじらず**、**手足を同じ方向に動かす**のが特徴です。

```
【現代の走り方】          【江戸走り】
右手が前 ← → 左足が前    右手が前 ← → 右足が前
体がねじれる              体がねじれない
```

## どうやって判定しているの？

カメラに映った人の姿勢を分析して、**3つのポイント**をチェックしています。

---

### チェック1: 腕のひねり

左右の腕が**反対方向にひねられている**かを見ています。

```
      ○ 頭
     /|\
    / | \
   /  |  \
  ↗   |   ↘   ← 左腕は外側へ、右腕は内側へひねる
 左腕  体  右腕
```

**OK**: 左腕が外向き、右腕が内向きにひねられている
**NG**: 両腕が同じ方向を向いている

---

### チェック2: 足のひねり

左右の足が**反対方向にひねられている**かを見ています。

```
    体
    |
   / \
  /   \
 ↗     ↘   ← 左足は外側へ、右足は内側へひねる
左足   右足
```

**OK**: 左足が外向き、右足が内向きにひねられている
**NG**: 両足が同じ方向を向いている

---

### チェック3: 膝の曲がり具合

両方の膝が**適度に曲がっている**かを見ています。

```
まっすぐ（NG）    曲がっている（OK）

    |                 /
    |                /
    |               <  ← 膝が曲がっている
    |                \
    |                 \
```

**OK**: 膝が165度より曲がっている
**NG**: 膝がまっすぐ伸びている

---

## 判定の流れ

```
┌────────────────────────────────────┐
│  カメラで体の動きを撮影            │
└─────────────┬──────────────────────┘
              ▼
┌────────────────────────────────────┐
│  AIが体の関節の位置を検出          │
│  （肩・肘・手首・腰・膝・足首など）  │
└─────────────┬──────────────────────┘
              ▼
┌────────────────────────────────────┐
│  3つの条件をチェック               │
│  □ 腕がひねられているか            │
│  □ 足がひねられているか            │
│  □ 膝が曲がっているか              │
└─────────────┬──────────────────────┘
              ▼
        ┌─────┴─────┐
        ▼           ▼
   【3つともOK】  【1つでもNG】
        │           │
        ▼           ▼
   ┌─────────┐  ┌─────────┐
   │江戸走り！│  │ちがうよ │
   │（緑表示）│  │（赤表示）│
   └─────────┘  └─────────┘
```

## 画面の見方

判定中は画面に結果が表示されます。

| 表示 | 意味 |
|------|------|
| 緑色 | その条件はクリア！ |
| 赤色 | その条件は満たしていない |

**すべてが緑色になると「江戸走り」と判定されます。**

---

## よくある質問

### Q: なぜ1秒待たないと判定されないの？

一瞬だけ条件を満たしても、それはたまたまかもしれません。
**1秒間キープ**することで、本当に江戸走りのフォームができているか確認しています。

### Q: うまく判定されないときは？

- カメラに**全身が映る**ようにしてください
- **明るい場所**で撮影してください
- **ゆっくり動いて**ポーズを確認してみてください

### Q: 膝の165度ってどれくらい？

ほぼまっすぐ（180度）よりも、**少し曲がっている**状態です。
軽く膝を緩める程度で大丈夫です。
